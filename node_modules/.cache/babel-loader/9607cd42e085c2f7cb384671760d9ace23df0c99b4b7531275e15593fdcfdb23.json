{"ast":null,"code":"import util from './util';\nexport default {\n  name: \"login_View\",\n  data() {\n    return {\n      login: false,\n      register: true,\n      username: '',\n      password: '',\n      confirmPassword: ''\n    };\n  },\n  methods: {\n    goLogin() {\n      console.log('username', util.trim(this.username));\n      if (!util.trim(this.username) || !util.trim(this.username)) {\n        window.alert('账号或密码不能为空');\n        return;\n      }\n      if (this.password !== this.confirmPassword) {\n        window.alert('密码不一致，请重新输入');\n        this.password = '';\n        this.confirmPassword = '';\n      } else {\n        window.localStorage.setItem('username', this.username);\n        window.localStorage.setItem('password', this.password);\n        this.register = false;\n        window.localStorage.setItem('loginStatus', 'login');\n        this.$store.commit('getUser', this.username);\n        window.alert('注册成功，确定进入网站首页');\n        window.location.href = '/customerHome';\n      }\n    },\n    changeLogin(b1, b2) {\n      this.login = b1;\n      this.register = b2;\n    },\n    goHome() {\n      let username = window.localStorage.getItem('username');\n      let password = window.localStorage.getItem('password');\n      if (!util.trim(this.username) || !util.trim(this.username)) {\n        window.alert('账号或密码不能为空');\n        return;\n      }\n      if (username === this.username && password === this.password) {\n        this.login = false;\n        window.localStorage.setItem('loginStatus', 'login');\n        this.$store.commit('getUser', this.username);\n        window.alert('登陆成功，确定进入网站首页');\n        window.location.href = '/customerHome';\n      } else {\n        window.alert('账号或密码错误');\n      }\n    }\n  },\n  created() {\n    //获取路由中的参数\n    if (this.$route.params.loginStatus === 'logout') {\n      window.localStorage.clear();\n      this.$store.commit('getLoginStatus', false);\n      return;\n    }\n    const loginStatus = this.$store.state.loginStatus;\n    if (loginStatus) {\n      this.login = false;\n      this.register = false;\n      window.alert('您已经是登录状态');\n      window.location.href = '/customerHome';\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;QACAC;QACA;MACA;MACA;QACAA;QACA;QACA;MACA;QACAA;QACAA;QACA;QACAA;QACA;QACAA;QACAA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACAF;QACA;MACA;MACA;QACA;QACAA;QACA;QACAA;QACAA;MACA;QACAA;MACA;IACA;EACA;EACAG;IACA;IACA;MACAH;MACA;MACA;IACA;IACA;IACA;MACA;MACA;MACAA;MACAA;IACA;EACA;AACA","names":["name","data","login","register","username","password","confirmPassword","methods","goLogin","console","window","changeLogin","goHome","created"],"sourceRoot":"src/components/customer","sources":["login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-info\">\r\n        <template v-if=\"login\">\r\n            <form class=\"login-info-form\">\r\n                <p>登陆界面</p><br>\r\n                <span>用户账号: </span><input type=\"text\" v-model=\"username\" placeholder=\"\"/><br>\r\n                <span>用户密码: </span><input type=\"password\" v-model=\"password\"/><br><br>\r\n                <input class=\"submit\" type=\"button\" @click=\"goHome\" value=\"提交\">\r\n                <input class=\"submit\" type=\"button\" @click=\"changeLogin(false, true)\" value=\"前往注册\">\r\n            </form>\r\n        </template>\r\n        <template v-if=\"register\">\r\n            <form class=\"login-info-form\">\r\n                <p>注册界面</p><br>\r\n                <span>用户账号: </span><input type=\"text\" v-model=\"username\" placeholder=\"\"/><br>\r\n                <span>用户密码: </span><input type=\"password\" v-model=\"password\"/><br>\r\n                <span>确认密码: </span><input type=\"password\" v-model=\"confirmPassword\"/><br><br>\r\n                <input class=\"submit\" type=\"button\" @click=\"goLogin\" value=\"提交\">\r\n                <input class=\"submit\" type=\"button\" @click=\"changeLogin(true, false)\" value=\"已有账号\">\r\n            </form>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import util from './util';\r\n    export default {\r\n        name: \"login_View\",\r\n        data(){\r\n            return {\r\n                login: false,\r\n                register: true,\r\n                username: '',\r\n                password: '',\r\n                confirmPassword: '',\r\n            }\r\n        },\r\n        methods: {\r\n            goLogin(){\r\n                console.log('username',util.trim(this.username))\r\n                if(!util.trim(this.username) || !util.trim(this.username) ){\r\n                    window.alert('账号或密码不能为空');\r\n                    return;\r\n                }\r\n                if(this.password !== this.confirmPassword){\r\n                    window.alert('密码不一致，请重新输入');\r\n                    this.password = '';\r\n                    this.confirmPassword = '';\r\n                }else{\r\n                    window.localStorage.setItem('username', this.username);\r\n                    window.localStorage.setItem('password', this.password);\r\n                    this.register = false;\r\n                    window.localStorage.setItem('loginStatus', 'login');\r\n                    this.$store.commit('getUser', this.username);\r\n                    window.alert('注册成功，确定进入网站首页');\r\n                    window.location.href = '/customerHome';\r\n                }\r\n            },\r\n            changeLogin(b1, b2){\r\n                this.login = b1;\r\n                this.register = b2;\r\n            },\r\n            goHome(){\r\n                let username = window.localStorage.getItem('username');\r\n                let password = window.localStorage.getItem('password');\r\n                if(!util.trim(this.username) || !util.trim(this.username) ){\r\n                    window.alert('账号或密码不能为空');\r\n                    return;\r\n                }\r\n                if(username === this.username && password === this.password){\r\n                    this.login = false;\r\n                    window.localStorage.setItem('loginStatus', 'login');\r\n                    this.$store.commit('getUser', this.username);\r\n                    window.alert('登陆成功，确定进入网站首页');\r\n                    window.location.href = '/customerHome';\r\n                }else{\r\n                    window.alert('账号或密码错误');\r\n                }\r\n            },\r\n        },\r\n        created(){\r\n            //获取路由中的参数\r\n            if(this.$route.params.loginStatus === 'logout'){\r\n                window.localStorage.clear();\r\n                this.$store.commit('getLoginStatus', false);\r\n                return;\r\n            }\r\n            const loginStatus = this.$store.state.loginStatus;\r\n            if(loginStatus){\r\n                this.login = false;\r\n                this.register = false;\r\n                window.alert('您已经是登录状态')\r\n                window.location.href = '/customerHome'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .login-info{\r\n        height:100%;\r\n        width:100%;\r\n        text-align: center;\r\n    }\r\n    .login-info-form{\r\n        position: relative;\r\n        top: 100px;\r\n    }\r\n    p{\r\n         font-size: 26px;\r\n         color: #5c6b77;\r\n     }\r\n    .submit{\r\n        font-size: 18px;\r\n    }\r\n    span{\r\n        font-size: 16px;\r\n        color: #5c6b77;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}