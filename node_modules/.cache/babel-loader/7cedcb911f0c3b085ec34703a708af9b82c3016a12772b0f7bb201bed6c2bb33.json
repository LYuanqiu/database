{"ast":null,"code":"//导入商品简介组件\nimport Customer_Product from './customer_product.vue';\nexport default {\n  components: {\n    Customer_Product\n  },\n  computed: {\n    list() {\n      //从Vuex获取商品列表信息\n      return this.$store.state.productList;\n    },\n    brands() {\n      return this.$store.getters.brands;\n    },\n    colors() {\n      return this.$store.getters.colors;\n    },\n    filteredAndOrderedList() {\n      //拷贝原数组\n      let list = [...this.list];\n      //品牌过滤\n      if (this.filterBrand !== '') {\n        list = list.filter(item => item.brand === this.filterBrand);\n      }\n      //颜色过滤\n      if (this.filterColor !== '') {\n        list = list.filter(item => item.color === this.filterColor);\n      }\n      //排序\n      if (this.order !== '') {\n        if (this.order === 'sales') {\n          list = list.sort((a, b) => b.sales - a.sales);\n        } else if (this.order === 'cost-desc') {\n          list = list.sort((a, b) => b.cost - a.cost);\n        } else if (this.order === 'cost-asc') {\n          list = list.sort((a, b) => a.cost - b.cost);\n        }\n      }\n      return list;\n    }\n  },\n  data() {\n    return {\n      //品牌过滤\n      filterBrand: '',\n      //颜色过滤\n      filterColor: '',\n      //排序依据，可选值：\n      //cost-desc价格降序\n      //cost-asc价格升序\n      //sales销量\n      order: ''\n    };\n  },\n  methods: {\n    //品牌筛选\n    handleFilterBrand(brand) {\n      //点击品牌过滤，再次点击取消\n      if (this.filterBrand === brand) {\n        this.filterBrand = '';\n      } else {\n        this.filterBrand = brand;\n      }\n    },\n    //颜色筛选\n    handleFilterColor(color) {\n      //点击颜色过滤，再次点击取消\n      if (this.filterColor === color) {\n        this.filterColor = '';\n      } else {\n        this.filterColor = color;\n      }\n    },\n    handleOrderDefault() {\n      this.order = '';\n    },\n    handleOrderSales() {\n      this.order = 'sales';\n    },\n    handleOrderCost() {\n      //当点击升序时将箭头更新↓,降序设置为↑\n      if (this.order === 'cost-desc') {\n        this.order = 'cost-asc';\n      } else {\n        this.order = 'cost-desc';\n      }\n    }\n  },\n  mounted() {\n    //初始化时通过Vuex actions获取商品列表信息\n    this.$store.dispatch('getProductList');\n  }\n};","map":{"version":3,"mappings":"AAwDA;AACA;AACA;EACAA;IAAAC;EAAA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACAH;MACA;MACA;MACA;QACAA;MACA;MACA;MACA;QACA;UACAA;QACA;UACAA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EACAI;IACA;MACA;MACAC;MACA;MACAC;MACA;MACA;MACA;MACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;EAEA;EACAC;IACA;IACA;EACA;AACA","names":["components","Customer_Product","computed","list","brands","colors","filteredAndOrderedList","data","filterBrand","filterColor","order","methods","handleFilterBrand","handleFilterColor","handleOrderDefault","handleOrderSales","handleOrderCost","mounted"],"sourceRoot":"src/components/customer","sources":["customer_list.vue"],"sourcesContent":["<template>\r\n  <div v-show=\"list.length\">\r\n    <!--搜索框-->\r\n    <div class=\"container\" id=\"div1\">\r\n      <div class=\"search bar1\">\r\n        <form>\r\n          <input type=\"text\" v-model=\"inputText\" placeholder=\"请输入您要搜索的内容...\">\r\n          <button type=\"submit\" @click=\"Click()\">img(src=\"../assets/search.png\")</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class=\"list-control\">\r\n      <div class=\"list-control-filter\">\r\n        <span>品牌:</span>\r\n        <span class=\"list-control-filter-item\"\r\n              :class=\"{on: item === filterBrand}\"\r\n              v-for=\"item in brands\" :key=\"item.index\"\r\n              @click=\"handleFilterBrand(item)\" >{{item}}</span>\r\n      </div>\r\n      <div class=\"list-control-filter\">\r\n        <span>颜色:</span>\r\n        <span class=\"list-control-filter-item\"\r\n              :class=\"{on: item === filterColor}\"\r\n              v-for=\"item in colors\" :key=\"item.index\"\r\n              @click=\"handleFilterColor(item)\">{{item}}</span>\r\n      </div>\r\n\r\n      <div class=\"list-control-order\">\r\n        <span>排序:</span>\r\n        <span class=\"list-control-order-item\"\r\n              :class=\"{on: order === ''}\"\r\n              @click=\"handleOrderDefault\">默认</span>\r\n        <span class=\"list-control-order-item\"\r\n              :class=\"{on: order === 'sales'}\"\r\n              @click=\"handleOrderSales\">\r\n                    销量\r\n                    <template v-if=\"order === 'sales'\">↓</template>\r\n                </span>\r\n        <span class=\"list-control-order-item\"\r\n              :class=\"{on: order.indexOf('cost') > -1}\"\r\n              @click=\"handleOrderCost\">\r\n                    价格\r\n                    <template v-if=\"order === 'cost-desc'\">↓</template>\r\n                    <template v-if=\"order === 'cost-asc'\">↑</template>\r\n                </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"productsList\">\r\n      <Customer_Product v-for=\"item in filteredAndOrderedList\" :info=\"item\" :key=\"item.id\"></Customer_Product>\r\n    </div>\r\n    <div class=\"product-not-found\"\r\n         v-show=\"!filteredAndOrderedList.length\">暂无相关商品</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//导入商品简介组件\r\nimport Customer_Product from './customer_product.vue';\r\nexport default {\r\n  components: {Customer_Product},\r\n  computed: {\r\n    list(){\r\n      //从Vuex获取商品列表信息\r\n      return this.$store.state.productList;\r\n    },\r\n    brands(){\r\n      return this.$store.getters.brands;\r\n    },\r\n    colors(){\r\n      return this.$store.getters.colors;\r\n    },\r\n    filteredAndOrderedList(){\r\n      //拷贝原数组\r\n      let list = [...this.list];\r\n      //品牌过滤\r\n      if(this.filterBrand !== ''){\r\n        list = list.filter(item => item.brand === this.filterBrand);\r\n      }\r\n      //颜色过滤\r\n      if(this.filterColor !== ''){\r\n        list = list.filter(item => item.color === this.filterColor);\r\n      }\r\n      //排序\r\n      if(this.order !== ''){\r\n        if(this.order === 'sales'){\r\n          list = list.sort((a, b) => b.sales - a.sales);\r\n        }else if(this.order === 'cost-desc'){\r\n          list = list.sort((a, b) => b.cost - a.cost);\r\n        }else if(this.order === 'cost-asc'){\r\n          list = list.sort((a, b) => a.cost - b.cost);\r\n        }\r\n      }\r\n      return list;\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      //品牌过滤\r\n      filterBrand: '',\r\n      //颜色过滤\r\n      filterColor: '',\r\n      //排序依据，可选值：\r\n      //cost-desc价格降序\r\n      //cost-asc价格升序\r\n      //sales销量\r\n      order: ''\r\n    }\r\n  },\r\n  methods: {\r\n    //品牌筛选\r\n    handleFilterBrand(brand){\r\n      //点击品牌过滤，再次点击取消\r\n      if (this.filterBrand === brand) {\r\n        this.filterBrand = '';\r\n      }else{\r\n        this.filterBrand = brand;\r\n      }\r\n    },\r\n    //颜色筛选\r\n    handleFilterColor(color){\r\n      //点击颜色过滤，再次点击取消\r\n      if (this.filterColor === color) {\r\n        this.filterColor = '';\r\n      }else{\r\n        this.filterColor = color;\r\n      }\r\n    },\r\n    handleOrderDefault(){\r\n      this.order = '';\r\n    },\r\n    handleOrderSales(){\r\n      this.order = 'sales';\r\n    },\r\n    handleOrderCost(){\r\n      //当点击升序时将箭头更新↓,降序设置为↑\r\n      if(this.order === 'cost-desc'){\r\n        this.order = 'cost-asc';\r\n      }else{\r\n        this.order = 'cost-desc';\r\n      }\r\n    },\r\n\r\n  },\r\n  mounted(){\r\n    //初始化时通过Vuex actions获取商品列表信息\r\n    this.$store.dispatch('getProductList');\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.list-control{\r\n  background: #fff;\r\n  border-radius: 6px;\r\n  margin: 16px;\r\n  padding: 16px;\r\n  box-shadow: 0 1px 1px rgba(0,0,0,.2);\r\n}\r\n.list-control-filter{\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.bar1 {background: #A3D0C3; }\r\n.bar1 input {\r\n  border: 2px solid #7BA7AB;\r\n  border-radius: 5px;\r\n  background: #F9F0DA;\r\n  color: #9E9C9C;\r\n}\r\n.bar1 button {\r\n  top: 0;\r\n  right: 0;\r\n  background: url(\"@/assets/search.png\") no-repeat;\r\n  background: #7BA7AB;\r\n  border-radius: 0 5px 5px 0;\r\n}\r\n.bar1 button:before {\r\n  background: url(\"../../assets/search.png\") no-repeat;\r\n  font-family: FontAwesome,serif;\r\n  font-size: 16px;\r\n  color: #F9F0DA;\r\n}\r\n.list-control-filter-item,\r\n.list-control-order-item {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  border: 1px solid #e9eaec;\r\n  border-radius: 4px;\r\n  margin-right: 6px;\r\n  padding: 2px 6px;\r\n}\r\n.list-control-filter-item.on,\r\n.list-control-order-item.on{\r\n  background: #f2352e;\r\n  border: 1px solid #f2352e;\r\n  color: #fff;\r\n}\r\n.product-not-found{\r\n  text-align: center;\r\n  padding: 32px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}